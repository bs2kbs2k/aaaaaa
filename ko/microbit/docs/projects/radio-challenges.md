# 챌린지

## ~avatar avatar

환영합니다! 이 활동에서는 첫 번째 @boardname@ 를 이용해 가속도를 측정하고, 그 결과를 두 번째 @boardname@ 에 시각적으로 출력하게 됩니다. 자 이제 함께 시작해봅시다!

## ~

`가속도 센서 가속도(mg)` 를 이용해 가속도를 측정하고, `라디오 값 전송` 을 이용해 전달합니다. `가속도` 는 **밀리g(milli-gravities)** 단위로 측정되기 때문에, 값 -1000 은 -1g 또는 -9.81m/s^2 과 같습니다. 가속도 값(힘)(g-force)을, "x" 축 방향을 기준으로 측정할 수 있습니다. `라디오 값 전송` 블록은, 무선 라디오 기능으로 연결된 다른 @boardname@ 들에게 정수 값을 전송합니다.

```blocks
radio.sendNumber(input.acceleration(Dimension.X));
```

## ~

가속도를 계속 반복해서 출력하고 싶습니다. 그러기 위해, `무한 반복 실행` 반복 구조가 필요합니다. 무한 반복 실행 블록은 백그라운드에서, 코드를 무한 반복 실행할 것입니다.

```blocks
basic.forever(() => {
    radio.sendNumber(input.acceleration(Dimension.X));
});


```

## ~

라디오를 통해 데이터 패킷이 전달되었을 때 실행시킬 코드를 등록해야합니다. `라디오 데이터 수신하면 실행` 블록을 이용해 그러한 기능을 구현할 수 있습니다.

```blocks
basic.forever(() => {
    radio.sendNumber(input.acceleration(Dimension.X))
})
radio.onDataPacketReceived(() => {

})
```

## ~

마지막으로, 가속도를 차트 그래프처럼 그리고 싶습니다. 그렇게 하려면 먼저, `LED 그래프` 블록을 사용해야합니다. `LED 그래프` 블록은, 가능한 최댓값과 표현할 값의 비율에 따라 LED 스크린에 막대그래프처럼 출력해줍니다. 첫 번째 @boardname@ 에서 전송된 값을 전달하기 위해 `라디오 정수 값 수신하면 실행` 블록을 이용하고, 전달된 값을 이용해 LED 그래프처럼 계속해서 출력할 수 있습니다. 전달된 값은, 첫 번째 @boardname@ 의 "x" 축 방향 기준의 가속도 값이라는 것을 기억해야합니다.

```blocks
basic.forever(() => {
    radio.sendNumber(input.acceleration(Dimension.X))
})
radio.onDataPacketReceived(({ receivedNumber }) => {
    led.plotBarGraph(receivedNumber, 1023)
})

```

## ~

@boardname@ 를 x 축 방향으로 가장 빠르게 가속시키는 경우, -1023 값이 시뮬레이터 아래쪽에 그래프 차트처럼 그려질 것입니다. 또한, 두 번째 @boardname@ 에 있는 LED 들은 모두 밝게 켜지게 될 것입니다. 첫 번째 @boardname@ 에는 1 개의 LED 만 켜집니다. 그리고, 첫 번째 @boardname@ 에 대한 가속도 값이 0 이 된 후, LED 그래프에 반영될 것입니다. 이런 시나리오에서, 시뮬레이터에서 가속도를 조절하면 만들어지는 그래프 차트도 그 움직임에 따라 반응하며 만들어지는 것을 확인할 수 있습니다.

![](/static/mb/acc.png)

## ~

참고: 차트 그래프의 색들은 @boardname@ 시뮬레이터의 색에 따라 달라집니다. 여기서, @boardname@ 들의 색은 파란색과 녹색입니다. 따라서, 그래프 차트로 그려지는 선들의 색은 @boardname@ 의 색이 반영된 것입니다.

## ~ @boardname@ 를 x 축 방향으로 몇 초 동안 이리 저리 움직이면서 이러한 시뮬레이션 실험들을 해보면, @boardname@ 의 가속도 그래프 차트를 그릴 수 있게 됩니다. 가속도를 엑셀(Excel) 스프레드시트 프로그램으로 가져오고 싶습니다. 시뮬레이션 실험을 통해 얻어지는 가속도 변화를 그래프로 그릴 것입니다.

![](/static/mb/acc2.png)

## ~

마지막으로, 엑셀(Excel) 스프레드시트 프로그램으로 `data.csv` 파일을 열어야 합니다. 다운로드 폴더에 다운로드되어 있습니다.

![](/static/mb/data3.png)

수집된 데이터에 따른 차트를 빨리 그려내기 위해서, 삽입 탭에 있는 차트 모양들을 사용하면 됩니다.

* 차트 그래프로 그릴 데이터들을 선택합니다.

* 메뉴에서 "삽입 > 차트" 를 누릅니다.

![](/static/mb/lessons/chart1.png)

* 차트 탭에서, 엑셀(Excel) 스프레드시트 프로그램에서 제시되는 차트 모양을 스크롤해 선택합니다. **분산형** 차트를 선택합니다.

![](/static/mb/chart_title.png)

* 차트를 눌렀을 때 보이는 메뉴에서 차트 요소, 차트 스타일, 차트 필터를 선택해 적용하고, 축 이름, 데이터 레이블 등을 입력해 넣어 원하는 모양의 차트를 그립니다.

![](/static/mb/elements_styles_filters.png)

## ~

여러분의 시뮬레이션 데이터들을 살펴보고, 엑셀(Excel) 스프레드시트 프로그램의 차트로 그려지는 가속도를 분석해보세요.

* 첫 번째 @boardname@ 에 USB 케이블을 연결한 후, 차트를 그릴 수 있는 프로그램을 업로드합니다.
* 두 번째 @boardname@ 에 USB 케이블을 연결한 후, 차트를 그릴 수 있는 프로그램을 업로드합니다.
* 두 사람이 번갈아가며, 한 사람은 @boardname@ 를 "x" 축 방향으로 기울여보고, 다른 한 사람은 @boardname@ 로 부터 얻어진 데이터들을 차트로 그려보세요!
* 엑셀(Excel) 스프레드시트로 읽어온, 실제 @boardname@ 장치의 가속도 데이터를 살펴보고 분석해보세요.
* 가속도 감지 축 방향을 "y", "z" 축 방향으로 바꾸고, y 축, z 축 방향으로의 가속도 변화를 LED 그래프로 출력해보세요.

```package
radio
```